"use strict";(self.webpackChunkadminpro=self.webpackChunkadminpro||[]).push([[168],{1855:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var s=t(4165),o=t(5861),r=t(9439),i=t(2791),l=t(5294),a=t(3402),c=t(1830),d=t.n(c),h=t(3009),u=t(9773),p=t(3464),x=t(4448),j=t(6167),m=t(2976),f=t(8118),g=t(8645),Z=t(9037),b=t(8755),v=t(9127),y=t.p+"static/media/blood.b878ccbcb1a43ccfb481.mp4",N=t(6913),w=t(7772),S=(t(182),t(184)),k=function(){var e=(0,i.useState)(""),n=(0,r.Z)(e,2),t=(n[0],n[1],(0,i.useState)("")),c=(0,r.Z)(t,2),k=c[0],A=c[1],C=(0,i.useState)(""),P=(0,r.Z)(C,2),W=P[0],B=P[1],F=(0,i.useState)([]),D=(0,r.Z)(F,2),G=D[0],H=D[1],M=(0,i.useState)(),O=(0,r.Z)(M,2),R=(O[0],O[1],(0,i.useState)()),U=(0,r.Z)(R,2),_=(U[0],U[1],(0,i.useState)(null)),E=(0,r.Z)(_,2),I=E[0],L=E[1],Y=(0,i.useState)(!1),J=(0,r.Z)(Y,2),K=J[0],T=J[1],q=(0,i.useState)(""),z=(0,r.Z)(q,2),Q=z[0],V=z[1],X=JSON.parse(localStorage.getItem("userData"));(0,i.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/getDonar");case 3:n=e.sent,H(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var $=function(e){return!(""!==k&&e.area!==k||""!==W&&e.amount!==W||""!==Q&&e.group!==Q)},ee=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.post("/bookSlot",{sno:n,id:t});case 3:e.sent,a.Am.success("Slot Confirmed"),d().fire({icon:"success",title:"Booking Confirmed",imageUrl:w,imageWidth:200,imageHeight:200,text:"Slot has been booked in desired location !"}).then((function(e){e.isConfirmed&&window.location.reload()})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}();return(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"bg-video-2",children:(0,S.jsxs)("video",{className:"bg-video__content",autoPlay:!0,muted:!0,loop:!0,children:[(0,S.jsx)("source",{src:y,type:"video/mp4"}),(0,S.jsx)("source",{src:"img/video.webm",type:"video/webm"}),"Your browser is not supported!"]})}),(0,S.jsxs)(h.Z,{children:[(0,S.jsxs)("h5",{className:"ms-1 mb-3 mt-3",style:{fontFamily:"Poppins",fontWeight:500},children:["User Name : ",X.name]}),(0,S.jsx)(u.Z,{md:"6",lg:"6",className:"mb-4",children:(0,S.jsxs)(p.Z,{body:!0,children:[(0,S.jsx)(x.Z,{tag:"h5",className:"mb-3",style:{fontFamily:"Poppins",fontWeight:600},children:"Filter Donor"}),(0,S.jsxs)("div",{className:" d-flex justify-content-around ",children:[(0,S.jsxs)(j.Z,{className:"mb-3",style:{width:"100%"},children:[(0,S.jsx)(m.Z,{for:"area",style:{fontFamily:"Poppins",fontWeight:400},children:"Area"}),(0,S.jsxs)(f.Z,{value:k,onChange:function(e){return A(e.target.value)},id:"area",name:"area",type:"select",children:[(0,S.jsx)("option",{value:"",children:"Select"}),(0,S.jsx)("option",{children:"Ambattur"}),(0,S.jsx)("option",{children:"Avadi"}),(0,S.jsx)("option",{children:"Porur"}),(0,S.jsx)("option",{children:"Kundrathur"}),(0,S.jsx)("option",{children:"Ramapuram"}),(0,S.jsx)("option",{children:"Ennore"})]})]}),(0,S.jsxs)(j.Z,{className:"mb-3 ms-3 ",style:{width:"100%"},children:[(0,S.jsx)(m.Z,{for:"amount",style:{fontFamily:"Poppins",fontWeight:400},children:"Amount"}),(0,S.jsxs)(f.Z,{value:W,onChange:function(e){return B(e.target.value)},id:"amount",name:"amount",type:"select",children:[(0,S.jsx)("option",{value:"",children:"Select"}),(0,S.jsx)("option",{children:"100"}),(0,S.jsx)("option",{children:"200"}),(0,S.jsx)("option",{children:"300"}),(0,S.jsx)("option",{children:"400"}),(0,S.jsx)("option",{children:"500"}),(0,S.jsx)("option",{children:"600"})]})]}),(0,S.jsxs)(j.Z,{className:" ms-3 ",style:{width:"100%"},children:[(0,S.jsx)(m.Z,{for:"bloodGroup",style:{fontFamily:"Poppins",fontWeight:400},children:"Blood Group"}),(0,S.jsxs)(f.Z,{value:Q,onChange:function(e){return V(e.target.value)},id:"bloodGroup",name:"bloodGroup",type:"select",children:[(0,S.jsx)("option",{value:"",children:"Select"}),(0,S.jsx)("option",{children:"A+"}),(0,S.jsx)("option",{children:"A-"}),(0,S.jsx)("option",{children:"B+"}),(0,S.jsx)("option",{children:"B-"}),(0,S.jsx)("option",{children:"O+"}),(0,S.jsx)("option",{children:"O-"}),(0,S.jsx)("option",{children:"AB+"}),(0,S.jsx)("option",{children:"AB-"})]})]})]})]})}),(0,S.jsx)(u.Z,{md:"6",lg:"4",className:"mb-4",children:(0,S.jsxs)(p.Z,{body:!0,color:"light-info",children:[(0,S.jsx)(x.Z,{tag:"h5",style:{fontFamily:"Poppins",fontWeight:600},children:"Available Donors"}),(0,S.jsx)(g.Z,{children:G.filter($).length})]})})]}),(0,S.jsx)(h.Z,{children:(0,S.jsx)(u.Z,{lg:"12",children:(0,S.jsx)("div",{style:{height:"460px",overflowY:"auto"},children:(0,S.jsx)(p.Z,{children:(0,S.jsxs)(Z.Z,{children:[(0,S.jsx)(x.Z,{tag:"h5",className:"m-2",style:{fontFamily:"Poppins",fontWeight:600},children:"Bookslots"}),(0,S.jsxs)(b.Z,{className:"no-wrap mt-3 align-middle",responsive:!0,borderless:!0,striped:!0,children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{children:"Donor ID"}),(0,S.jsx)("th",{children:"Name"}),(0,S.jsx)("th",{children:"Area"}),(0,S.jsx)("th",{children:"Available"}),(0,S.jsx)("th",{children:"Group"}),(0,S.jsx)("th",{children:"Amount"}),(0,S.jsx)("th",{children:"Location"}),(0,S.jsx)("th",{children:"Action"})]})}),(0,S.jsx)("tbody",{children:G.filter($).map((function(e,n){return(0,S.jsxs)("tr",{className:"border-top",children:[(0,S.jsx)("td",{children:e.id}),(0,S.jsx)("td",{children:e.name}),(0,S.jsx)("td",{children:e.area}),(0,S.jsx)("td",{children:e.available}),(0,S.jsx)("td",{children:e.group}),(0,S.jsx)("td",{children:e.amount}),(0,S.jsx)("td",{children:(0,S.jsx)("a",{href:e.location,target:"_blank",className:"btn btn-success",color:"light-success",children:"Locate"})}),(0,S.jsx)("td",{children:(0,S.jsx)(v.Z,{color:"primary",onClick:function(){ee(e.sno,e.id)},children:"Book"})})]},n)}))})]})]})})})})}),(0,S.jsx)(N.Widget,{handleNewUserMessage:function(e){if(K){A(e);var n=G.filter((function(n){return n.area===e})).length;(0,N.addResponseMessage)("The number of donors in ".concat(e," is ").concat(n))}else L(e),T(!0),(0,N.addResponseMessage)("Hi ".concat(e,", please enter your area."))},title:"Donor Chat",subtitle:K?"Hi ".concat(I,", What is your area?"):"Please enter your name"})]})}}}]);
//# sourceMappingURL=168.fe6f0bf1.chunk.js.map